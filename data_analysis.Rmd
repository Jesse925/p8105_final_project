---
title: "Data Analysis"
output: 
  html_document:
    toc: true
    toc_float: true
---

#
#

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

<<<<<<< HEAD

=======
>>>>>>> 552c8c4546315c30a8b191c63a1f61ba99e1bc33
First to read data from the website. It may take a minute.

<<<<<<< HEAD
```{r message=FALSE, warning=FALSE}
start_time <- Sys.time()

<<<<<<< HEAD
data = read_csv("https://data.cityofnewyork.us/resource/h9gi-nx95.csv?$limit=2000000")
=======
raw_data = read_csv("https://data.cityofnewyork.us/resource/h9gi-nx95.csv?$limit=2000000")
>>>>>>> 552c8c4546315c30a8b191c63a1f61ba99e1bc33
=======
```{r}
drug_df = read.csv("./data/Accidental_Drug_Related_Deaths_2012-2018.csv") %>% janitor::clean_names()

length(unique(drug_df$date))
>>>>>>> 74837bc42ccdfc2eed33ad42fbc1f753e02f8f4a


```

```{r}
data =
data %>% 
  mutate(
    date = as.Date(date),
    date = as.character(date)
  ) %>% 
  separate(date, into = c("year", "month", "day"), convert = TRUE)
```

```{r}
data %>% 
  filter(
    !is.na(latitude),
    month == 12,
    day == 25
  ) %>% 
  select(-zip_code, -location, -on_street_name, -off_street_name, -cross_street_name) %>% 
  ggplot(aes(x = latitude, y = longitude, size = number_of_persons_killed)) +
  geom_point(alpha = .5)
```

```{r}
data %>% 
  filter(number_of_persons_injured != 0)
```

```{r}
data %>% 
  filter(
    contributing_factor_vehicle_1 != "Unspecified"
  )
```

```{r}
nyc_building = read_csv("https://data.cityofnewyork.us/resource/hg8x-zxpr.csv?$limit=2000000")
```

```{r}
nyc_building %>% 
  filter(project_name != "CONFIDENTIAL")
```

```{r message=FALSE, warning=FALSE}
drug = read_csv("../p8105_final_project/Accidental_Drug_Related_Deaths_2012-2018.csv")
```

```{r}
drug %>% 
  filter(DateType == "DateofDeath")
```


#### This website is intended for p8105 Data Science Final Project only. 

